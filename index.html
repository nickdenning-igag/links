<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PGA Leaderboard</title>
  <style>
    /* Basic table styling */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-family: Arial, sans-serif;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    /* Highlight top 3 */
    .top-player {
      background-color: #ffd700; /* Gold */
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>PGA Leaderboard</h1>

  <!-- Tournament & sort dropdowns -->
  <div style="margin-bottom: 15px;">
    <label for="tournament-select">Tournament:</label>
    <select id="tournament-select">
      <option value="pga">PGA Championship</option>
      <option value="masters">Masters</option>
      <option value="us_open">US Open</option>
      <option value="open_championship">The Open Championship</option>
    </select>

    <label for="sort-select" style="margin-left: 20px;">Sort by:</label>
    <select id="sort-select">
      <option value="rank">Rank</option>
      <option value="total_score">Total Score</option>
      <option value="to_par">To Par</option>
      <option value="driving_distance">Driving Distance</option>
      <option value="gir_percent">GIR %</option>
      <option value="putts">Putts</option>
    </select>
  </div>

  <!-- Leaderboard table -->
  <table>
    <thead>
      <tr>
        <th>Rank</th>
        <th>Name</th>
        <th>Total Score</th>
        <th>To Par</th>
        <th>Driving Distance</th>
        <th>GIR %</th>
        <th>Putts</th>
      </tr>
    </thead>
    <tbody id="leaderboard-body">
      <!-- Rows will be populated by JavaScript -->
    </tbody>
  </table>

  <script>
    // Sample players
    let displayedPlayers = [
      { rank: 1, name: "Tiger Woods", total_score: 68, to_par: -4, driving_distance: 315, gir_percent: 72, putts: 28 },
      { rank: 2, name: "Rory McIlroy", total_score: 69, to_par: -3, driving_distance: 310, gir_percent: 70, putts: 29 },
      { rank: 3, name: "Dustin Johnson", total_score: 69, to_par: -3, driving_distance: 312, gir_percent: 71, putts: 27 },
      { rank: 4, name: "Jon Rahm", total_score: 70, to_par: -2, driving_distance: 305, gir_percent: 68, putts: 30 }
    ];

    // Render leaderboard function
    function renderLeaderboard(players) {
      const tbody = document.getElementById('leaderboard-body');
      if (!tbody) return;

      tbody.innerHTML = ''; // Clear old rows

      if (!players || players.length === 0) {
        const tr = document.createElement('tr');
        const td = document.createElement('td');
        td.colSpan = 7;
        td.style.textAlign = 'center';
        td.textContent = 'No data available';
        tr.appendChild(td);
        tbody.appendChild(tr);
        return;
      }

      players.forEach(player => {
        const tr = document.createElement('tr');

        if (player.rank && player.rank <= 3) {
          tr.classList.add('top-player');
        }

        const cells = [
          player.rank || '-',
          player.name || '-',
          player.total_score || '-',
          player.to_par || '-',
          player.driving_distance || '-',
          player.gir_percent || '-',
          player.putts || '-'
        ];

        cells.forEach(value => {
          const td = document.createElement('td');
          td.textContent = value;
          tr.appendChild(td);
        });

        tbody.appendChild(tr);
      });
    }

    // Sort leaderboard based on dropdown
    const sortSelect = document.getElementById('sort-select');
    sortSelect.addEventListener('change', () => {
      const key = sortSelect.value;
      const sorted = [...displayedPlayers].sort((a, b) => (a[key] || 0) - (b[key] || 0));
      renderLeaderboard(sorted);
    });

    // Initial render
    renderLeaderboard(displayedPlayers);
  </script>

</body>
</html>
